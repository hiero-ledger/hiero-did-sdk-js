= dereferenceDID API Reference

This document provides a concise API reference for the `dereferenceDID` function within the Hedera DID SDK for JavaScript.

== Function Signature

[source,js]
----
function dereferenceDID(
  didUrl: string,
  accept?: DIDResolutionAccept,
  options?: DereferenceDIDOptions,
): Promise<Service | VerificationMethod | DIDDereferenceResolution>;
----

== Parameters

The function accepts the following parameters:

*   **`didUrl`**: (Required) The DID URL to dereference.
*   **`accept`**: (Optional) Specifies the desired format for the DID fragment resolution.
*   **`options`**: (Optional) The options to use when dereferencing the DID URL.

=== didUrl Parameter

[cols="1,1,3",options="header",frame="ends"]
|===
|Name
|Type
|Description

|didUrl
|`string`
|The DID URL string of the Decentralized Identifier to dereference.
|===

=== accept Parameter

[cols="1,1,3",options="header",frame="ends"]
|===
|Name
|Type
|Description

|accept?
|`DIDResolutionAccept`
|Specifies the desired format for the DID fragment resolution. See <<accept-data-types>> for allowed values.
|===

=== options Parameter

[cols="1,1,3",options="header",frame="ends"]
|===
|Name
|Type
|Description

|options?
|`DereferenceDIDOptions`
|The options to use when dereferencing the DID URL.
|===

== Data Types

[[accept-data-types]]
=== DIDResolutionAccept type

[cols="1,1,3",options="header",frame="ends"]
|===
|Name 
|Type 
|Description

|DIDResolutionAccept
|`string`
|A string literal representing the desired format for DID Document resolution. It must be one of the following:

  * `application/did+ld+json`
  * `application/did+json`
  * `application/ld+json;profile="https://w3id.org/did-resolution"`
|===

== Return Value

Upon successful execution, the function returns a Promise that resolves to either a `Service`, `VerificationMethod`, or `DIDDereferenceResolution` object, depending on the provided `didUrl` and `accept` values.

[cols="1,1,3",options="header",frame="ends"]
|===
|Name
|Type
|Description

|Service
|`Service`
|Returned if DID URL has a service fragment or service parameter was provided.

|VerificationMethod
|`VerificationMethod`
|Returned if DID URL has a verificationMethod fragment.

|DIDDereferenceResolution
|`DIDDereferenceResolution`
|Returned if `accept` is `application/ld+json;profile="https://w3id.org/did-resolution"`. It contains the dereferenced fragment and additional metadata.
|===

== Errors

The following exceptions may arise during the execution of the `dereferenceDID` function:

[cols="1,1",options="header",frame="ends"]
|===
|Exception class
|Description 

|`DIDNotFoundError`
|Thrown when the DID is not found.

|`UnsupportedDIDMethodError`
|Thrown when the DID method is not supported (only `did:hedera` is supported).

|`InvalidDIDUrlError`
|Thrown when the DID URL is invalid.

|`UnsupportedAcceptValueError`
|Thrown when an unsupported `accept` header value is provided.
|===

== Function Implementation

The Hashgraph DID SDK provides a `dereferenceDID` function within its `resolver` package. For further details, refer to the xref:06-deployment/packages/index.adoc#essential-packages[`@hashgraph-did-sdk-js/resolver`] package documentation.