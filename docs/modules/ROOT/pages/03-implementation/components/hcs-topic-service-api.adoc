= HcsTopicService API Reference

This document provides a detailed API reference for the `HcsTopicService` class — a service for managing Hedera Consensus Service (HCS) topics, including creating, updating, deleting topics, and retrieving topic info.

== Сonstructor

=== `constructor`
[source,ts]
----
constructor(client: Client, cache?: CacheConfig | Cache | HcsCacheService)
----

Creates a new instance of `HcsTopicService`.

.Parameters
* `client` (required): Hedera SDK client instance used for HCS operations.
* `cache` (optional): Cache configuration, cache instance, or an existing `HcsCacheService`.

== Methods

=== `createTopic`
[source,ts]
----
async createTopic(props?: CreateTopicProps): Promise<string>
----

Creates a new HCS topic.

.Parameters
* `props` (optional): Properties to configure topic creation.

==== `CreateTopicProps` fields:
* `topicMemo` (optional, string): Description or memo for the topic.
* `adminKeySigner` (optional, Signer): Signer for a private key that must sign any transaction updating the topic (admin rights).
* `submitKey` (optional, PrivateKey | PublicKey): Key permitted to submit messages.
* `autoRenewPeriod` (optional, Duration | Long | number): Topic auto-renew period in seconds.
* `autoRenewAccountId` (optional, AccountId | string): Account ID to be charged for auto-renewal fees.
* `autoRenewAccountKeySigner` (optional, Signer): Signer for the auto-renewal account (required if autoRenewAccountId is provided).
* `waitForChangesVisibility` (optional, boolean): If true, waits until the topic visibility is confirmed in the mirror node.
* `waitForChangesVisibilityTimeoutMs` (optional, number): Timeout in milliseconds to wait for changes visibility.

.Returns
* A promise resolving to the created topic ID as a string.

.Throws
* Error if `autoRenewAccountId` is provided without `autoRenewAccountKey`.
* Error if the topic creation transaction fails.

=== `updateTopic`
[source,ts]
----
async updateTopic(props: UpdateTopicProps): Promise<void>
----

Updates an existing HCS topic.

.Parameters
* `props` (required): Properties for updating the topic.

==== `UpdateTopicProps` fields:
* `topicId` (required, string): The ID of the topic to update.
* `currentAdminKeySigner` (required, Signer): Signer for the current admin key required to sign the update transaction.
* `topicMemo` (optional, string): New memo for the topic (set empty string to clear).
* `submitKey` (optional, PrivateKey): New submit key.
* `adminKeySigner` (optional, Signer): Signer for a new admin key that must sign any transaction updating the topic.
* `autoRenewPeriod` (optional, Duration | Long | number): New auto-renewal period (default fallback to 90 days if null).
* `autoRenewAccountId` (optional, AccountId | string): New auto-renew account ID.
* `autoRenewAccountKeySigner` (optional, Signer): Signer for the auto-renewal account (required if autoRenewAccountId is provided).
* `expirationTime` (optional, Timestamp | Date): New expiration time.
* `waitForChangesVisibility` (optional, boolean): If true, wait until updated topic info is visible in mirror node.
* `waitForChangesVisibilityTimeoutMs` (optional, number): Timeout in milliseconds for visibility wait.

.Returns
* A promise resolving when the topic update completes.

.Throws
* Error if `autoRenewAccountId` is set without `autoRenewAccountKey`.
* Error if the update transaction fails.

=== `deleteTopic`
[source,ts]
----
async deleteTopic(props: DeleteTopicProps): Promise<void>
----

Deletes an HCS topic.

.Parameters
* `props` (required): Properties for deleting the topic.

==== `DeleteTopicProps` fields:
* `topicId` (required, string): ID of the topic to delete.
* `adminKeySigner` (required, Signer): Signer for the current admin key required to sign the delete transaction.
* `waitForChangesVisibility` (optional, boolean): Wait until deletion is confirmed visible in mirror node.
* `waitForChangesVisibilityTimeoutMs` (optional, number): Timeout in milliseconds to wait for visibility.

.Returns
* A promise resolving when deletion is complete.

.Throws
* Error if the deletion transaction fails.

=== `getTopicInfo`
[source,ts]
----
async getTopicInfo(props: GetTopicInfoProps): Promise<TopicInfo>
----

Retrieves information about a topic, utilizing cache if available.

.Parameters
* `props` (required): Properties to specify the topic info to retrieve.

==== `GetTopicInfoProps` fields:
* `topicId` (required, string): ID of the topic.

.Returns
* A promise resolving to `TopicInfo`.

.Throws
* Error if topic info retrieval fails.

== See Also

xref:03-implementation/components/hcs-topic-service-guide.adoc[HcsTopicService Developer Guide]
